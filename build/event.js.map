{"version":3,"file":"event.js","mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACkD;AACF;AAChD,0BAA0B,sDAAI,CAAC,sDAAG;AAClC;AACA;AACA,yBAAyB,sDAAI,CAAC,uDAAI;AAClC;AACA,GAAG;AACH,CAAC;AACD,iEAAe,IAAI,EAAC;AACpB;;;;;;;;;;;;;;;;;;;;;;;;;;;ACb2E;AACoB;AAC5D;AACsB;AACjB;AACI;AAAA;AAE7B,SAASiB,IAAIA,CAACC,KAAK,EAAE;EAChC,MAAMC,UAAU,GAAGlB,sEAAa,CAAC,CAAC;EAClC,MAAM;IAAEmB,UAAU;IAAEC;EAAc,CAAC,GAAGH,KAAK;EAC3C,MAAM,CAACI,mBAAmB,EAAEC,sBAAsB,CAAC,GAAGf,4DAAQ,CAAC,EAAE,CAAC;;EAElE;EACAD,6DAAS,CAAC,MAAM;IACZ,IAAIa,UAAU,CAACI,eAAe,KAAK,MAAM,EAAE;MACvCH,aAAa,CAAC;QAAEI,iBAAiB,EAAEC,SAAS;QAAEC,kBAAkB,EAAED;MAAU,CAAC,CAAC;IAClF,CAAC,MAAM;MACH,IAAIN,UAAU,CAACK,iBAAiB,KAAKC,SAAS,EAAE;QAC5CL,aAAa,CAAC;UAAEI,iBAAiB,EAAE;QAAM,CAAC,CAAC;MAC/C;MACA,IAAIL,UAAU,CAACO,kBAAkB,KAAKD,SAAS,EAAE;QAC7CL,aAAa,CAAC;UAAEM,kBAAkB,EAAE;QAAM,CAAC,CAAC;MAChD;IACJ;EACJ,CAAC,EAAE,CAACP,UAAU,CAACI,eAAe,CAAC,CAAC;;EAEhC;EACAjB,6DAAS,CAAC,MAAM;IACZG,2DAAQ,CAAC;MACLkB,IAAI,EAAE,yBAAyBV,KAAK,CAACW,IAAI,EAAE;MAC3CC,MAAM,EAAE,MAAM;MACdC,IAAI,EAAE;QACFC,OAAO,EAAE,MAAM;QACfZ,UAAU,EAAEA;MAChB;IACJ,CAAC,CAAC,CAACa,IAAI,CAAEC,QAAQ,IAAK;MAClBX,sBAAsB,CAACW,QAAQ,CAACC,QAAQ,CAAC;IAC7C,CAAC,CAAC,CAACC,KAAK,CAAEC,KAAK,IAAK;MAChBC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;IACzD,CAAC,CAAC;EACN,CAAC,EAAE,CAACjB,UAAU,CAAC,CAAC;;EAEhB;EACA,SAASmB,UAAUA,CAACC,KAAK,EAAE;IACvB,MAAMC,QAAQ,GAAGD,KAAK,KAAK,EAAE,GAAGd,SAAS,GAAGgB,MAAM,CAACF,KAAK,CAAC;IACzDnB,aAAa,CAAC;MAAEsB,OAAO,EAAEF;IAAS,CAAC,CAAC;EACxC;;EAEA;EACA,SAASG,aAAaA,CAACC,OAAO,EAAE;IAC5B,MAAMC,cAAc,GAAGC,WAAW,CAACC,IAAI,CAACC,MAAM,IAAIA,MAAM,CAACT,KAAK,KAAKK,OAAO,CAAC;IAC3ExB,aAAa,CAAC;MAAE6B,eAAe,EAAEJ,cAAc,CAACK,KAAK;MAAE3B,eAAe,EAAEsB,cAAc,CAACN;IAAM,CAAC,CAAC;EACnG;;EAEA;EACA,SAASY,cAAcA,CAACH,MAAM,EAAE;IAC5B,IAAIA,MAAM,KAAK,OAAO,EAAE;MACpB5B,aAAa,CAAC;QAACI,iBAAiB,EAAE,CAACL,UAAU,CAACK;MAAiB,CAAC,CAAC;IACrE;IACA,IAAIwB,MAAM,KAAK,QAAQ,EAAE;MACrB5B,aAAa,CAAC;QAACM,kBAAkB,EAAE,CAACP,UAAU,CAACO;MAAkB,CAAC,CAAC;IACvE;EACJ;;EAEA;EACA,MAAMoB,WAAW,GAAG,CAChB;IAAEI,KAAK,EAAE,cAAc;IAAEX,KAAK,EAAE;EAAQ,CAAC,EACzC;IAAEW,KAAK,EAAE,OAAO;IAAEX,KAAK,EAAE;EAAO,CAAC,EACjC;IAAEW,KAAK,EAAE,SAAS;IAAEX,KAAK,EAAE;EAAO,CAAC,CACtC;EAED,oBACI1B,uDAAA,CAAAE,uDAAA;IAAAqC,QAAA,gBACIzC,sDAAA,CAACZ,sEAAiB;MAAAqD,QAAA,eACdvC,uDAAA,CAACZ,4DAAS;QAACoD,KAAK,EAAEhD,mDAAE,CAAC,eAAe,EAAE,kBAAkB,CAAE;QAACiD,WAAW,EAAE,IAAK;QAACC,IAAI,EAAE/C,wDAAK;QAAA4C,QAAA,gBACrFzC,sDAAA,CAACT,8DAAW;UACRgD,KAAK,EAAE7C,mDAAE,CAAC,UAAU,EAAE,kBAAkB,CAAE;UAC1CkC,KAAK,EAAEpB,UAAU,CAACuB,OAAQ;UAC1Bc,QAAQ,EAAElB,UAAW;UACrBmB,IAAI,EAAC,QAAQ;UACbC,IAAI,eACA7C,uDAAA;YAAAuC,QAAA,GAAM,4CACqC,EAAC,GAAG,eAC3CzC,sDAAA;cAAGgD,IAAI,EAAG,GAAGC,MAAM,CAACC,QAAQ,CAACC,MAAM,wDAA0D;cAACC,MAAM,EAAC,QAAQ;cAACC,GAAG,EAAC,qBAAqB;cAAAZ,QAAA,EAAC;YAExI,CAAG,CAAC,WACR;UAAA,CAAM;QACT,CACJ,CAAC,eAEFzC,sDAAA,CAACR,gEAAa;UACV+C,KAAK,EAAE7C,mDAAE,CAAC,SAAS,EAAE,kBAAkB,CAAE;UACzCkC,KAAK,EAAEpB,UAAU,CAACI,eAAgB;UAClC0C,OAAO,EAAEnB,WAAY;UACrBU,QAAQ,EAAEb;QAAc,CAC3B,CAAC,EAEDxB,UAAU,CAACK,iBAAiB,KAAKC,SAAS,IAAIN,UAAU,CAACO,kBAAkB,KAAKD,SAAS,iBACtFZ,uDAAA;UAAKqD,KAAK,EAAE;YAACC,WAAW,EAAE;UAAM,CAAE;UAAAf,QAAA,gBAC9BzC,sDAAA;YAAAyC,QAAA,EAAQ/C,mDAAE,CAAC,sBAAsB,EAAE,kBAAkB;UAAC,CAAQ,CAAC,eAC/DQ,uDAAA;YAAKqD,KAAK,EAAE;cAACE,SAAS,EAAE;YAAM,CAAE;YAAAhB,QAAA,gBAC5BzC,sDAAA,CAACP,kEAAe;cACZ8C,KAAK,EAAE7C,mDAAE,CAAC,aAAa,EAAE,kBAAkB,CAAE;cAC7CgE,OAAO,EAAE,CAAC,CAAClD,UAAU,CAACK,iBAAkB;cACxCgC,QAAQ,EAAEA,CAAA,KAAML,cAAc,CAAC,OAAO;YAAE,CAC3C,CAAC,eACFxC,sDAAA,CAACP,kEAAe;cACZ8C,KAAK,EAAE7C,mDAAE,CAAC,QAAQ,EAAE,kBAAkB,CAAE;cACxCgE,OAAO,EAAE,CAAC,CAAClD,UAAU,CAACO,kBAAmB;cACzC8B,QAAQ,EAAEA,CAAA,KAAML,cAAc,CAAC,QAAQ;YAAE,CAC5C,CAAC;UAAA,CACD,CAAC;QAAA,CACL,CACR;MAAA,CACM;IAAC,CACG,CAAC,eACpBxC,sDAAA;MAAA,GAASO,UAAU;MAAAkC,QAAA,eACfzC,sDAAA;QAAK2D,uBAAuB,EAAE;UAACC,MAAM,EAAElD;QAAmB;MAAE,CAAC;IAAC,CAC7D,CAAC;EAAA,CACR,CAAC;AAEX;;;;;;;;;;ACzHA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;ACNsD;AAC5B;AACU;AAEpCmD,oEAAiB,CAACC,6CAAa,EAAE;EAC7B,GAAGA,wCAAQ;EACXC,IAAI,EAAE1D,6CAAI;EACV2D,IAAI,EAAEA,CAAA,KAAM;AAChB,CAAC,CAAC,C","sources":["webpack://ticketleo-events/./node_modules/@wordpress/icons/build-module/library/tool.js","webpack://ticketleo-events/./blocks/event/edit.js","webpack://ticketleo-events/external window \"ReactJSXRuntime\"","webpack://ticketleo-events/external window [\"wp\",\"apiFetch\"]","webpack://ticketleo-events/external window [\"wp\",\"blockEditor\"]","webpack://ticketleo-events/external window [\"wp\",\"blocks\"]","webpack://ticketleo-events/external window [\"wp\",\"components\"]","webpack://ticketleo-events/external window [\"wp\",\"element\"]","webpack://ticketleo-events/external window [\"wp\",\"i18n\"]","webpack://ticketleo-events/external window [\"wp\",\"primitives\"]","webpack://ticketleo-events/webpack/bootstrap","webpack://ticketleo-events/webpack/runtime/compat get default export","webpack://ticketleo-events/webpack/runtime/define property getters","webpack://ticketleo-events/webpack/runtime/hasOwnProperty shorthand","webpack://ticketleo-events/webpack/runtime/make namespace object","webpack://ticketleo-events/./blocks/event/event.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst tool = /*#__PURE__*/_jsx(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"M14.103 7.128l2.26-2.26a4 4 0 00-5.207 4.804L5.828 15a2 2 0 102.828 2.828l5.329-5.328a4 4 0 004.804-5.208l-2.261 2.26-1.912-.512-.513-1.912zm-7.214 9.64a.5.5 0 11.707-.707.5.5 0 01-.707.707z\"\n  })\n});\nexport default tool;\n//# sourceMappingURL=tool.js.map","import { InspectorControls, useBlockProps } from \"@wordpress/block-editor\";\nimport { PanelBody, TextControl, SelectControl, CheckboxControl } from \"@wordpress/components\";\nimport {__} from \"@wordpress/i18n\";\nimport { useEffect, useState } from '@wordpress/element';\nimport { tool } from '@wordpress/icons';\nimport apiFetch from '@wordpress/api-fetch';\n\nexport default function Edit(props) {\n    const blockProps = useBlockProps();\n    const { attributes, setAttributes } = props;\n    const [previewBlockContent, setPreviewBlockContent] = useState('');\n\n    // Don't set attributes for grid view\n    useEffect(() => {\n        if (attributes.viewOptionValue === 'grid') {\n            setAttributes({ showMetaDataLabel: undefined, showMetaDataStatus: undefined })\n        } else {\n            if (attributes.showMetaDataLabel === undefined) {\n                setAttributes({ showMetaDataLabel: false });\n            }\n            if (attributes.showMetaDataStatus === undefined) {\n                setAttributes({ showMetaDataStatus: false });\n            }\n        }\n    }, [attributes.viewOptionValue]);\n\n    // Get block content and show render_callback content inside block editor\n    useEffect(() => {\n        apiFetch({\n            path: `/wp/v2/block-renderer/${props.name}`,\n            method: 'POST',\n            data: {\n                context: 'edit',\n                attributes: attributes\n            },\n        }).then((response) => {\n            setPreviewBlockContent(response.rendered);\n        }).catch((error) => {\n            console.error('Error fetching block content:', error);\n        });\n    }, [attributes]);\n\n    // Set Event-ID\n    function setEventID(value) {\n        const newValue = value === '' ? undefined : Number(value);\n        setAttributes({ eventId: newValue })\n    }\n\n    // Set view option for frontend styling\n    function setViewOption(newView) {\n        const selectedOption = viewOptions.find(option => option.value === newView);\n        setAttributes({ viewOptionLabel: selectedOption.label, viewOptionValue: selectedOption.value });\n    }\n\n    // Set meta data, that's supposed to render in frontend\n    function toggleMetaData(option) {\n        if (option === 'label') {\n            setAttributes({showMetaDataLabel: !attributes.showMetaDataLabel});\n        }\n        if (option === 'status') {\n            setAttributes({showMetaDataStatus: !attributes.showMetaDataStatus});\n        }\n    }\n\n    // view options available\n    const viewOptions = [\n        { label: 'Tabellarisch', value: 'table' },\n        { label: 'Liste', value: 'list' },\n        { label: 'Kacheln', value: 'grid' }\n    ];\n\n    return (\n        <>\n            <InspectorControls>\n                <PanelBody title={__('Einstellungen', 'ticketleo-events')} initialOpen={true} icon={tool}>\n                    <TextControl\n                        label={__('Event-ID', 'ticketleo-events')}\n                        value={attributes.eventId}\n                        onChange={setEventID}\n                        type=\"number\"\n                        help={\n                            <span>\n                                Wie Sie diese herausfinden, k√∂nnen Sie {' '}\n                                <a href={ `${window.location.origin}/wp-content/plugins/ticketleo-events/docs/find-ids.pdf` } target=\"_blank\" rel=\"noopener noreferrer\">\n                                    hier\n                                </a> sehen.\n                            </span>\n                        }\n                    />\n\n                    <SelectControl\n                        label={__('Ansicht', 'ticketleo-events')}\n                        value={attributes.viewOptionValue}\n                        options={viewOptions}\n                        onChange={setViewOption}\n                    />\n\n                    {attributes.showMetaDataLabel !== undefined && attributes.showMetaDataStatus !== undefined  && (\n                        <div style={{marginBlock: '20px'}}>\n                            <label>{__('Metadaten einblenden', 'ticketleo-events')}</label>\n                            <div style={{marginTop: '10px'}}>\n                                <CheckboxControl\n                                    label={__('Bezeichnung', 'ticketleo-events')}\n                                    checked={!!attributes.showMetaDataLabel}\n                                    onChange={() => toggleMetaData('label')}\n                                />\n                                <CheckboxControl\n                                    label={__('Status', 'ticketleo-events')}\n                                    checked={!!attributes.showMetaDataStatus}\n                                    onChange={() => toggleMetaData('status')}\n                                />\n                            </div>\n                        </div>\n                    )}\n                </PanelBody>\n            </InspectorControls>\n            <div {...blockProps}>\n                <div dangerouslySetInnerHTML={{__html: previewBlockContent}}/>\n            </div>\n        </>\n    );\n}","module.exports = window[\"ReactJSXRuntime\"];","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"primitives\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerBlockType } from '@wordpress/blocks';\nimport Edit from \"./edit\";\nimport metadata from './block.json';\n\nregisterBlockType(metadata.name, {\n    ...metadata,\n    edit: Edit,\n    save: () => null\n});\n"],"names":["InspectorControls","useBlockProps","PanelBody","TextControl","SelectControl","CheckboxControl","__","useEffect","useState","tool","apiFetch","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Edit","props","blockProps","attributes","setAttributes","previewBlockContent","setPreviewBlockContent","viewOptionValue","showMetaDataLabel","undefined","showMetaDataStatus","path","name","method","data","context","then","response","rendered","catch","error","console","setEventID","value","newValue","Number","eventId","setViewOption","newView","selectedOption","viewOptions","find","option","viewOptionLabel","label","toggleMetaData","children","title","initialOpen","icon","onChange","type","help","href","window","location","origin","target","rel","options","style","marginBlock","marginTop","checked","dangerouslySetInnerHTML","__html","registerBlockType","metadata","edit","save"],"sourceRoot":""}